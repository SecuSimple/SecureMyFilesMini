!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=a("./src/encryptor");b.exports=d},{"./src/encryptor":3}],2:[function(a,b,c){var d=function(a,b){function c(b){for(var c,d,f,g,h=0,i=new Uint8Array(b.byteLength);h<b.byteLength;){for(c=h+u,g=new Uint8Array(u),f=0,d=h;c>d;f++,d++)g[f]=b[d];e(g,v),m(g,a),v=g.slice(0),i.set(g,h),h+=u}return i}function d(b){for(var c,d,f,g,h,i=0,j=new Uint8Array(b.byteLength);i<b.byteLength;){for(f=i+u,g=new Uint8Array(u),c=0,d=i;f>d;c++,d++)g[c]=b[d];h=g.slice(0),n(g,a),e(g,w),w=h,j.set(g,i),i+=u}return j}function e(a,b){for(var c=0;u>c;c++)a[c]=a[c]^b[c]}function f(a,b){for(var c=0;u>c;c++)a[c]^=b[c]}function g(a,b){for(var c=0;u>c;c++)a[c]=b[a[c]]}function h(a,b){for(var c=a.slice(0),d=0;u>d;d++)a[d]=c[b[d]]}function i(a){for(var b=0;u>b;b+=4){var c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=c^d^e^f;a[b+0]^=g^s[c^d],a[b+1]^=g^s[d^e],a[b+2]^=g^s[e^f],a[b+3]^=g^s[f^c]}}function j(a){for(var b=0;u>b;b+=4){var c=a[b+0],d=a[b+1],e=a[b+2],f=a[b+3],g=c^d^e^f,h=s[g],i=s[s[h^c^e]]^g,j=s[s[h^d^f]]^g;a[b+0]^=i^s[c^d],a[b+1]^=j^s[d^e],a[b+2]^=i^s[e^f],a[b+3]^=j^s[f^c]}}function k(){o=new Array(99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22),p=new Array(0,5,10,15,4,9,14,3,8,13,2,7,12,1,6,11),q=new Array(256);for(var a=0;256>a;a++)q[o[a]]=a;r=new Array(u);for(var b=0;u>b;b++)r[p[b]]=b;s=new Array(256);for(var c=0;128>c;c++)s[c]=c<<1,s[128+c]=c<<1^27}function l(a){var b,c=a.length,d=1;switch(c){case 16:b=11*u;break;case 24:b=13*u;break;case 32:b=15*u;break;default:throw new Error("Key error: Only key lengths of 16, 24 or 32 bytes allowed!")}for(var e=c;b>e;e+=4){var f=a.slice(e-4,e);e%c===0?(f=new Array(o[f[1]]^d,o[f[2]],o[f[3]],o[f[0]]),(d<<=1)>=256&&(d^=283)):c>24&&e%c==u&&(f=new Array(o[f[0]],o[f[1]],o[f[2]],o[f[3]]));for(var g=0;4>g;g++)a[e+g]=a[e+g-c]^f[g]}}function m(a,b){var c=b.length;f(a,b.slice(0,u));for(var d=u;c-u>d;d+=u)g(a,o),h(a,p),i(a),f(a,b.slice(d,d+u));g(a,o),h(a,p),f(a,b.slice(d,c))}function n(a,b){var c=b.length;f(a,b.slice(c-u,c)),h(a,r),g(a,q);for(var d=c-2*u;d>=u;d-=u)f(a,b.slice(d,d+u)),j(a),h(a,r),g(a,q);f(a,b.slice(0,u))}var o,p,q,r,s,t={encrypt:c,decrypt:d},u=16,v=b,w=b;return k(),l(a),t};b.exports={AESCBC:d}},{}],3:[function(a,b,c){function d(a){return Array.prototype.map.call(a,function(a){return a.charCodeAt(0)})}function e(a){var b,c,d,e=[];a||(a=[]);for(var f=0;l>f;f++)for(b=a.length>1?a.splice(f,1):[10*Math.random(),10*Math.random()],c=new Date,d=b.length?b[0]*Math.random()/10:(10*Math.random()+100*Math.random()+1e3*Math.random())/100,e[f]=parseInt(d*c.getMilliseconds()/10);e[f]>255;)e[f]-=255;return e}function f(a,b){var c=Object.keys(b);return c.forEach(function(c){a[c]=b[c]}),a}function g(a,b){for(var c=a.byteLength;c--;)if(a[c]!==b[c])return!1;return!0}var h=a("./enc-aescbc"),i=a("./sha256"),j=a("./hmac256"),k=16e4,l=16,m=2*l,n=function(a){var b=a+l+m;return b+=Math.floor(a/k)*l,b+=l-a%l},o=function(a){return a-l-m},p=function(a){function b(){if(a||(a={}),f(a,x),!a.readBlock)throw new Error("Exception. The 'readBlock' parameter was not present in the options");if(!a.saveBlock)throw new Error("Exception. The 'saveBlock' parameter was not present in the options");if(!a.fileSize)throw new Error("Exception. The 'fileSize' parameter was not present in the options.");if(!a.finishHandler)throw new Error("Exception. The 'finishHandler' parameter was not present in the options");if(!a.errorHandler)throw new Error("Exception. The 'errorHandler' parameter was not present in the options");a.decryptionFileSize=a.fileSize-l-m}function c(b,c){if(!b)throw new Error("Exception. The parameter 'key' was not present");var d=r(b);u=0,t=new j(d.slice(0,l));var f=e(c);t.update(f),a.saveBlock(f),s=new a.algorithm(d.slice(l),f),a.readBlock(k,n)}function n(b){if(a.progressHandler&&a.progressHandler(b.byteLength/a.fileSize),u+=b.byteLength,b.byteLength<k||u===a.fileSize){var c=l-b.byteLength%l,d=new Uint8Array(b.byteLength+c);d.set(b);for(var e=b.byteLength;e<d.byteLength;e++)d[e]=c;b=d}b=s.encrypt(b),t.update(b),a.saveBlock(b),a.readBlock(k,n)||(a.saveBlock(t.finalize()),a.finishHandler())}function o(b){if(!b)throw new Error("Exception. The parameter 'key' was not present");var c=r(b);t=new j(c.slice(0,l)),u=0,a.readBlock(l,function(b){t.update(b),s=new a.algorithm(c.slice(l),b),a.readBlock(k,p)})}function p(b){a.progressHandler&&a.progressHandler(b.byteLength/a.fileSize),u+=b.byteLength;var c=u-a.decryptionFileSize;return u>a.decryptionFileSize&&(v.set(b.slice(-c)),b=b.slice(0,-c)),t.update(b),b=s.decrypt(b),u>=a.decryptionFileSize&&(b=b.slice(0,-b[b.byteLength-1])),a.saveBlock(b),u<=a.decryptionFileSize?void a.readBlock(k,p):void(32>c?a.readBlock(c,function(a){v.set(a,c),q()}):q())}function q(){var b=t.finalize();g(v,b)?a.finishHandler():a.errorHandler(1)}function r(a){var b=new i;return b.update(d(a)),b.finalize()}var s,t,u,v=new Uint8Array(m),w={encrypt:c,decrypt:o},x={algorithm:h.AESCBC};return b(),w};p.getEncryptedLength=n,p.getDecryptedLength=o,b.exports=p},{"./enc-aescbc":2,"./hmac256":4,"./sha256":5}],4:[function(a,b,c){var d=a("./sha256"),e=function(a){function b(){var a;for(a=f.length;h>a;a++)f[a]=0;for(a=0;h>a;a++)f[a]^=54;g.update(f)}function c(a){"undefined"==typeof a.byteLength?g.update(a):g.updateByte(a)}function e(){var a,b=g.finalize(),c=new d;for(a=0;h>a;a++)f[a]^=106;for(c.update(f),c.update(b),a=0;h>a;a++)f[a]=0;return f=void 0,c.finalize()}var f=a.slice(0),g=new d,h=64,i={update:c,finalize:e};return b(),i};b.exports=e},{"./sha256":5}],5:[function(a,b,c){var d=function(){function a(a){var b=new Uint8Array((p.byteLength||p.length)+a.byteLength);b.set(p),b.set(a,p.byteLength||p.length);for(var c=0;c+r<=b.byteLength;c+=r)m(n,b.slice(c,c+r));p=b.slice(c),q+=a.byteLength}function b(a){p=p.concat(a);for(var b=0;b+r<=p.length;b+=r)m(n,p.slice(b,b+r));p=p.slice(b),q+=a.length}function c(){var a;if("undefined"!=typeof p.byteLength&&(p=d(p)),p[p.length]=128,p.length>r-8){for(a=p.length;r>a;a++)p[a]=0;m(n,p),p.length=0}for(a=p.length;r-5>a;a++)p[a]=0;p[59]=q>>>29&255,p[60]=q>>>21&255,p[61]=q>>>13&255,p[62]=q>>>5&255,p[63]=q<<3&255,m(n,p);var b=new Array(32);for(a=0;8>a;a++)b[4*a+0]=n[a]>>>24,b[4*a+1]=n[a]>>16&255,b[4*a+2]=n[a]>>8&255,b[4*a+3]=255&n[a];return n=void 0,p=void 0,q=void 0,b}function d(a){var b=new Array(a.byteLength);for(i=0;i<b.length;i++)b[i]=a[i];return b}function e(a){return(a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3}function f(a){return(a>>>17|a<<15)^(a>>>19|a<<13)^a>>>10}function g(a){return(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10)}function h(a){return(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7)}function j(a,b,c){return c^a&(b^c)}function k(a,b,c){return a&b^c&(a^b)}function l(a,b){var c;for(c=16;r>c;c++)b[c]=f(b[c-2])+b[c-7]+e(b[c-15])+b[c-16]&4294967295;var d=[].concat(a);for(c=0;r>c;c++){var i=d[7]+h(d[4])+j(d[4],d[5],d[6])+o[c]+b[c],l=g(d[0])+k(d[0],d[1],d[2]);d.pop(),d.unshift(i+l&4294967295),d[4]=d[4]+i&4294967295}for(c=0;8>c;c++)a[c]=a[c]+d[c]&4294967295}function m(a,b){for(var c=new Array(16),d=0;16>d;d++)c[d]=b[4*d+0]<<24|b[4*d+1]<<16|b[4*d+2]<<8|b[4*d+3];l(a,c)}var n=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),o=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),p=[],q=0,r=64,s={update:b,updateByte:a,finalize:c};return s};b.exports=d},{}],6:[function(a,b,c){var d=a("./src/app");window.SecureMyFiles=d},{"./src/app":7}],7:[function(a,b,c){var d=a("../lib/supercrypt"),e=a("./storagemgr"),f=a("./utils"),g=function(a,b,c){var g,h,i=new f.RandomGenerator;if("function"!=typeof a||"function"!=typeof b)throw"Success and Error callbacks are mandatory and must be functions!";var j=function(a){"function"==typeof c&&c(a)},k=function(a){g.saveToDisk(a)};this.encryptFile=function(a,c){var f=i.generate();g=new e(a,d.getEncryptedLength(a.size)),h=new d({fileSize:a.size,saveBlock:g.store,readBlock:g.readChunk,progressHandler:j,finishHandler:k.bind(this,!0),errorHandler:b}),h.encrypt(c,f)},this.decryptFile=function(a,c){g=new e(a,d.getDecryptedLength(a.size)),h=new d({fileSize:a.size,saveBlock:g.store,readBlock:g.readChunk,progressHandler:j,finishHandler:k,errorHandler:b}),h.decrypt(c)}};b.exports=g},{"../lib/supercrypt":1,"./storagemgr":8,"./utils":9}],8:[function(a,b,c){var d=(a("./utils"),function(a,b){var c=0,d=0,e=new FileReader,f=a.size,g=a.name,h=new Uint8Array(b),i=function(a,b){var c=URL.createObjectURL(a),d=document.createElement("a");d.style="display: none",document.body.appendChild(d),d.href=c,d.download=b,d.click(),setTimeout(function(){URL.revokeObjectURL(c)},0)};this.readChunk=function(b,d){if(c>=f)return!1;var g=b;return c+b>f&&(g=f-c),e.onload=function(a){if(2===e.readyState){var b=new Uint8Array(e.result);"function"==typeof d&&setTimeout(function(){d(b)},5)}},e.readAsArrayBuffer(a.slice(c,c+g)),c+=g,!0},this.store=function(a,b){h.set(a,d),d+="undefined"==typeof a.byteLength?a.length:a.byteLength,"function"==typeof b&&b()},this.saveToDisk=function(a){var b;b=d<h.byteLength?new Blob([h.slice(0,d)],{type:"application/octet-stream"}):new Blob([h],{type:"application/octet-stream"}),g=a?g.concat(".smfw"):g.replace(".smfw",""),i(b,g)}});b.exports=d},{"./utils":9}],9:[function(a,b,c){var d={};d.toTypedArray=function(a,b){for(var c=b?Math.min(a.length,b):a.length,d=new Uint8Array(c),e=c-1;e>=0;e--)d[e]=a[e];return d},d.stringToByteArray=function(a,b){if(a.length>b)throw"String is too large";for(var c=new Array(b),d=a.length-1,e=b-1;d>=0;d--,e--)c[e]=a.charCodeAt(d);for(;e>=0;)c[e--]=0;return c},d.byteArrayToString=function(a){for(var b="",c=0;c<a.byteLength;c++)0!==a[c]&&(b+=String.fromCharCode(a[c]));return b},d.RandomGenerator=function(){var a=!1,b=[],c=function(){"undefined"!=typeof document&&(!a&&b.length<=102400?(document.addEventListener("mousemove",d),a=!0):a&&b.length>102400&&(document.removeEventListener("mousemove",d),a=!1))},d=function(a){b.push(a.screenX),b.push(a.screenY),c()};this.generate=function(){for(var a,d,e,f=[],g=0;16>g;g++)for(a=b.length>1?b.splice(g,2):[10*Math.random(),10*Math.random()],d=new Date,e=2===a.length?(a[0]*Math.random()+a[1]*Math.random())/10:(10*Math.random()+100*Math.random()+1e3*Math.random())/100,f[g]=parseInt(e*d.getMilliseconds()/10);f[g]>255;)f[g]-=255;return c(),f},c()},b.exports=d},{}]},{},[6]);